<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>MFAéªŒè¯ç è·å–</title>
    <link rel="stylesheet" href="https://static.mzrme.com/tools/totp/css/bulma-0.9.4.min.css">
    <link href="https://static.mzrme.com/favicon.ico" rel="icon" type="image/x-icon" />
    <style>
        [v-cloak] {
            display: none;
        }

        html, body {
            height: 100%;
        }

        /* --- Dark Mode Styles --- */
        /* ç¡®ä¿ html å’Œ body çš„ä¸»èƒŒæ™¯è‰² */
        html.is-dark, body.is-dark {
            background-color: #1e1e1e !important; /* ä¸»èƒŒæ™¯è‰² */
            color: #f5f5f5;
        }

        body.is-dark .title,
        body.is-dark .label {
            color: #f5f5f5;
        }

        /* è¾“å…¥æ¡†/æ§ä»¶ èƒŒæ™¯è‰²ä½¿ç”¨ #2c2c2c */
        body.is-dark .input {
            background-color: #2c2c2c;
            border-color: #444444;
            color: #f5f5f5;
        }

        body.is-dark .input::placeholder {
            color: #999;
        }

        /* ç»“æœ Box èƒŒæ™¯è‰²ä½¿ç”¨ #2c2c2c */
        body.is-dark .box {
            background-color: #2c2c2c;
            border: 1px solid #444444;
        }

        body.is-dark .has-text-grey {
            color: #aaaaaa !important;
        }

        /* å…³é”®ä¿®å¤ï¼šä¿®å¤é¡µè„šèƒŒæ™¯è‰²ï¼Œè¦†ç›– Bulma é»˜è®¤æ ·å¼ */
        body.is-dark .footer {
            background-color: #1e1e1e !important;
            color: #f5f5f5;
        }

        /* ä¿®å¤é¡µè„šé“¾æ¥é¢œè‰²ï¼Œä½¿å…¶åœ¨æ·±è‰²èƒŒæ™¯ä¸‹å¯è§ */
        body.is-dark .footer a {
            color: #4ac7ff;
        }
        /* --- End Dark Mode Styles --- */

        /* [FIX] ä¿®å¤1ï¼šæš—é»‘æ¨¡å¼ä¸‹ï¼Œæ¨¡å¼åˆ‡æ¢æŒ‰é’®ï¼ˆ.is-primary.is-invertedï¼‰é¢œè‰²ä»ä¸ºç™½è‰² */
        body.is-dark .button.is-primary.is-inverted {
            background-color: #2c2c2c !important;
            border-color: #444444 !important;
            color: #f5f5f5 !important;
        }

        /* [FIX] ä¿®å¤1ï¼šæš—é»‘æ¨¡å¼ä¸‹ï¼Œæ¨¡å¼åˆ‡æ¢æŒ‰é’®çš„æ‚¬åœçŠ¶æ€ */
        body.is-dark .button.is-primary.is-inverted:hover {
            background-color: #444444 !important;
            border-color: #666666 !important;
            color: #f5f5f5 !important;
        }

        /* [FIX] ä¿®å¤2ï¼šæš—é»‘æ¨¡å¼ä¸‹ï¼Œå¤åˆ¶æŒ‰é’®ï¼ˆ.is-lightï¼‰çš„æ ·å¼ */
        body.is-dark .button.is-light {
            background-color: #2c2c2c !important;
            border-color: #444444 !important;
            color: #f5f5f5 !important;
        }

        /* [FIX] ä¿®å¤3ï¼šæš—é»‘æ¨¡å¼ä¸‹ï¼Œå¤åˆ¶æŒ‰é’®çš„SVGå›¾æ ‡é¢œè‰² */
        body.is-dark #clipboard-button img {
            /* åè½¬é¢œè‰²ï¼šå°†é»‘è‰²å˜ä¸ºç™½è‰²ï¼Œé€‚ç”¨äºå•è‰²å›¾æ ‡ */
            filter: invert(1);
        }


        body > footer {
            position: sticky;
            top: 100vh;
        }

        .footer {
            padding: 2rem;
        }

        @media screen and (min-width: 1068px) {
            .container {
                max-width: 600px;
                width: 600px;
            }
        }
    </style>
</head>
<body>

<script defer src="https://static.mzrme.com/tools/totp/js/assets/vue-3.4.20.global.prod.js"></script>
<script defer src="https://static.mzrme.com/tools/totp/js/assets/otpauth-9.1.3.min.js"></script>
<script defer src="https://static.mzrme.com/tools/totp/js/assets/clipboard-2.0.6.min.js"></script>
<script defer src="https://static.mzrme.com/tools/totp/js/app.js?v=1.2"></script>

<section id="app" class="section" v-cloak>

    <div class="container">

        <div class="is-clearfix">
            <h1 class="title is-pulled-left">MFAéªŒè¯ç è·å–</h1>
            <a class="button is-small is-pulled-right is-primary is-inverted" @click="toggleDarkMode" style="margin-top: 0.5rem;">
                {{ isDarkMode ? 'â˜€ï¸ Light Mode' : 'ğŸŒ™ Dark Mode' }}
            </a>
        </div>

        <div class="field">
            <label class="label is-uppercase">æ‚¨çš„å¯†é’¥</label>
            <div class="control">
                <input class="input" type="text" v-model="secret_key" placeholder="The secret key (in base-32 format)">
            </div>
        </div>

        <div class="field">
            <label class="label is-uppercase">MFAéªŒè¯ç ä½æ•°</label>
            <div class="control">
                <input class="input" type="text" v-model="digits" placeholder="Usually 6">
            </div>
        </div>

        <div class="field">
            <label class="label is-uppercase">ä»¤ç‰Œå‘¨æœŸï¼ˆä»¥ç§’ä¸ºå•ä½ï¼‰</label>
            <div class="control">
                <input class="input" type="text" v-model="period" placeholder="Usually 30">
            </div>
        </div>

        <div class="content">
            <span class="has-text-grey is-size-7"> {{ updatingIn }} ç§’å†…åˆ·æ–°</span>
            <progress class="progress is-info is-small" v-bind:value="updatingIn" :max="period"></progress>
        </div>

        <div class="box">
            <p class="title is-size-1 has-text-centered" id="token">{{ token }}</p>
        </div>

        <div class="control is-clearfix">
            <a class="button is-large is-light is-pulled-right" id="clipboard-button" data-clipboard-target="#token" title="Copy token to clipboard">
                <img src="https://static.mzrme.com/tools/totp/img/clippy.svg" height="36" width="36">
            </a>
        </div>

    </div>

</section>

<footer class="footer">
    <div class="container">
        <div class="content has-text-centered">
            Built by <a href="https://mzrme.com">MZRME'S</a>. Source on <a href="https://github.com/jaden/totp-generator">Github</a>.<p>
            Powered by Azure Static App Service & Azure Frontdoor
        </div>
    </div>
</footer>

</body>
</html>